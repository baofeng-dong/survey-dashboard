
{% extends 'base.html' %}

{% block content %}

<div id="button-header">
    <input type="button"  value="Hide" id="toggle">
</div>

<div id="control-section">
<!-- dropdowns that trigger ajax call to update table based on selection -->
<div id="map-select">
<div id="map-intro">
    <h4><b>Map Dashboard</b></h4>
    <p>Note: select route, direction, origin/destination, day of week, and time of day to view origin and destination data.</p>
</div>

<div id="map-view">
  <label>Select Map View</label>

  <table class="fixed" width="100%">
    <col width="100%"/>

    <tr>
      <td><input class = "checkview" type="checkbox" name="mapview" value="points" checked="checked">Point Map</td>
    </tr>
    <tr>
      <td><input class = "checkview" type="checkbox" name="mapview" value="origin-heat">Origin Heatmap</td>
    </tr>
        <tr>
      <td><input class = "checkview" type="checkbox" name="mapview" value="dest-heat">Destination Heatmap</td>
    </tr>
  </table>
  <!--<div id="origin-button">
    <input type="button"  value="Origin Heatmap" id="toggle">
  </div>
  <div id="dest-button">
    <input type="button"  value="Destination Heatmap" id="toggle">
  </div>-->

</div>

<table id="select-table">
  <tr id="menu-dd">
    <td style="padding-left: 1em" width="20%">
      <div class="btn-group" role="form">
        <button id="line_btn" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
        Route    
        <span class="caret"></span>
        </button>
        <ul id="filter_line" class="dropdown-menu scrollable-menu" role="menu">
          <li role="presentation" class="dropdown-header">Route</li>
          <li role="presentation"><a href="#">All</a></li>
          <li role="presentation" class="divider"></li>
          {% for route in routes %}
          <li><a href="#" rte="{{route['rte']}}">{{ route["rte_desc"] }}</a></li>
          {% endfor %}
        </ul>
      </div>
    </td>
    <td style="padding-left: 4em; padding-right: 1em" width="25%">
      <div class="dropdown">
        <button id="day_btn" class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Day of Week
        <span class="caret"></span></button>
        <ul id="filter_day" class="dropdown-menu scrollable-menu" role="menu">
          <li role="presentation" class="dropdown-header">Day of Week</li>
          <li role="presentation" class="divider"></li>
            <li><a href="#">Weekday</a></li>
            <li><a href="#">Weekend</a></li>
            <li><a href="#">Saturday</a></li>
            <li><a href="#">Sunday</a></li>
        </ul>
      </div>
    </td>
    <td style="padding-left: 4em; padding-right: 1em" width="25%">
      <div class="dropdown">
        <button id="origin_btn" class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Origin
        <span class="caret"></span></button>
        <ul id="filter_origin" class="dropdown-menu scrollable-menu" role="menu">
          <li role="presentation" class="dropdown-header">Origin</li>
          <li role="presentation" class="divider"></li>
            <li><a href="#">All</a></li>
            <li><a href="#">Home</a></li>
            <li><a href="#">Work</a></li>
            <li><a href="#">School</a></li>
            <li><a href="#">Recreation</a></li>
            <li><a href="#">Shopping</a></li>
            <li><a href="#">Personal business</a></li>
            <li><a href="#">Visit family or friends</a></li>
            <li><a href="#">Medical appointment</a></li>
            <li><a href="#">Other</a></li>
        </ul>
      </div>
    </td>
    <td style="padding-left: 4em; padding-right: 1em" width="30%">
      <div class="dropdown">
        <button id="travel_btn" class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Travel Change
        <span class="caret"></span></button>
        <ul id="filter_travel" class="dropdown-menu scrollable-menu" role="menu">
          <li role="presentation" class="dropdown-header">Travel Change</li>
          <li role="presentation" class="divider"></li>
            <li><a href="#">All</a></li>
            <li><a href="#">More</a></li>
            <li><a href="#">Same</a></li>
            <li><a href="#">Less</a></li>
            <li><a href="#">Do not know</a></li>
        </ul>
      </div>
    </td>
  </tr>
  <tr id="menu-dd">
    <td class="direction_cls" style="display: show; padding-left: 1em" width="20%">
      <div class="btn-group">
        <button id="dir_btn" type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
        Direction    
        <span class="caret"></span>
        </button>
        <ul id="filter_dir" class="dropdown-menu" role="menu">
          <li role="presentation" class="dropdown-header">Direction</li>
          <li role="presentation"><a href="#">All</a></li>
          <li role="presentation" class="divider"></li>
          <li><a href="#" id="inbound_link"></a></li>
          <li><a href="#" id="outbound_link"></a></li>
        </ul>
      </div>
    </td>
    <td style="padding-left: 4em; padding-right: 1em" width="25%">
      <div class="dropdown">
        <button id="tod_btn" class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Time of Day
        <span class="caret"></span></button>
        <ul id="filter_tod" class="dropdown-menu scrollable-menu" role="menu">
          <li role="presentation" class="dropdown-header">Time of Day</li>
          <li role="presentation" class="divider"></li>
            <li><a href="#">All</a></li>
            <li><a href="#">AM Peak</a></li>
            <li><a href="#">Midday</a></li>
            <li><a href="#">PM Peak</a></li>
            <li><a href="#">Evening</a></li>
        </ul>
      </div>
    </td>
    <td style="padding-left: 4em; padding-right: 1em" width="25%">
      <div class="dropdown">
        <button id="dest_btn" class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Destination
        <span class="caret"></span></button>
        <ul id="filter_dest" class="dropdown-menu scrollable-menu" role="menu">
          <li role="presentation" class="dropdown-header">Destination</li>
          <li role="presentation" class="divider"></li>
            <li><a href="#">All</a></li>
            <li><a href="#">Home</a></li>
            <li><a href="#">Work</a></li>
            <li><a href="#">School</a></li>
            <li><a href="#">Recreation</a></li>
            <li><a href="#">Shopping</a></li>
            <li><a href="#">Personal business</a></li>
            <li><a href="#">Visit family or friends</a></li>
            <li><a href="#">Medical appointment</a></li>
            <li><a href="#">Other</a></li>
        </ul>
      </div>
    </td>
    <td style="padding-left: 4em; padding-right: 1em" width="30%">
      <div class="dropdown">
        <button id="satisfaction_btn" class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Satisfaction
        <span class="caret"></span></button>
        <ul id="filter_satisfaction" class="dropdown-menu scrollable-menu" role="menu">
          <li role="presentation" class="dropdown-header">Satisfaction</li>
          <li role="presentation" class="divider"></li>
            <li><a href="#">All</a></li>
            <li><a href="#">Satisfied</a></li>
            <li><a href="#">Neutral</a></li>
            <li><a href="#">Not satisfied</a></li>
            <li><a href="#">Do not know</a></li>
        </ul>
      </div>
    </td>
  </tr>
</table>
</div>
</div>

<!--<div id="map-view">

<label>Select a Map View</label>
<div class="ride-view">

<table class="fixed" width="100%">
  <col width="25%" />
  <col width="25%" />
  <col width="25%" />
  <col width="25%" />

  <tr>
    <td><input class = "mapview" type="radio" name="viewList" value="ride-more">Ride More</td>
    <td><input class = "mapview" type="radio" name="viewList" value="ride-less">Ride Less</td>
    <td><input class = "mapview" type="radio" name="viewList" value="ride-same">Ride Same</td>
    <td><input class = "mapview" type="radio" name="viewList" value="ride-same">All</td>
  </tr>

</table>
</div>


<div class="tod-view">
<label>Select Time of Day</label>

<table class="fixed" width="100%">
  <col width="20%" />
  <col width="20%" />
  <col width="20%" />
  <col width="20%" />
  <col width="20%" />

  <tr>
    <td><input class = "mapview" type="checkbox" name="viewList" value="early-am">Early AM</td>
    <td><input class = "mapview" type="checkbox" name="viewList" value="am-peak">AM Peak</td>
    <td><input class = "mapview" type="checkbox" name="viewList" value="mid-day">Midday</td>
    <td><input class = "mapview" type="checkbox" name="viewList" value="pm-peak">PM Peak</td>
    <td><input class = "mapview" type="checkbox" name="viewList" value="evening">Evening</td>
  </tr>

</table>

</div>


<div class="week-view">
<label>Select Day of Week</label>

<table class="fixed" width="400px">
  <col width="100px" />
  <col width="100px" />

  <tr>
    <td><input class = "checkweek" type="checkbox" name="vehicle" value="Weekday"> Weekday</td>
    <td><input class = "checkweek" type="checkbox" name="vehicle" value="Weekend" > Weekend</td>
  </tr>
</table>

</div>

</div> -->

<div id="mapid">
    
</div>

<script>
    //convert ordered directions data by rte and desc
    //into lookup object
    //{rte_desc:{0:<outbound dir_desc>, 1:<inbound dir_desc>}, ... }
    var directions = {{ directions|tojson|safe }};
    console.log(directions);
    var base = '{{url_for('index')}}';

</script>


<script type="text/javascript" src="{{ url_for('index') }}static/js/map.js"></script>

{% endblock %}